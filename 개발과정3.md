# Simtime 개발일지 3

## Kakao 지도 api 이용하기



### MAP Atomic 구성하기

```js
/*global kakao*/
import React, { useState, useEffect } from "react";
import styled from "styled-components";
import PropTypes from "prop-types";

const MapWrap = styled.div`
  width: ${(props) => (props.width ? props.width : "100%")};
  height: ${(props) => (props.height ? props.height : "150px")};
`;

function Map(props) {
  const { lat, lng, hight, width, mapId } = props;

  const [loadMap, setLoadMap] = useState(false);
  // const [mapLat, setLat] = useState(lat);
  // const [mapLng, setLng] = useState(lng);

  useEffect(() => {
    var eventLocation = new kakao.maps.LatLng(lat, lng);

    kakao.maps.load(() => {
      let container = document.getElementById(mapId);
      let options = {
        center: eventLocation,
        level: 7,
      };

      const map = new window.kakao.maps.Map(container, options);
      const marker = new kakao.maps.Marker({
        position: eventLocation,
      });

      marker.setMap(map);
    });
  }, []);

  return <MapWrap {...props} id={mapId}></MapWrap>;
}

export default Map;

Map.propTypes = {
  height: PropTypes.string,
  width: PropTypes.string,
  lat: PropTypes.number,
  lng: PropTypes.number,
  mapId: PropTypes.string,
};

Map.defaultProps = {
  height: "50%",
  width: "100%",
  lat: 37.506502,
  lng: 127.053617,
  mapId: "myMap",
};

```

![map01](https://github.com/arara90/images/blob/master/Simtime/simtime_017.png?raw=true)

여기서 주의할 점은 반드시 mapId를 전달하는 것이 좋다. 그림과 같이 두 개의 지도가 쓰이는 상황에서 원하는 지도에 대한 작업을 해야한다. 그리고 어차피한쪽만 나올 것이다...